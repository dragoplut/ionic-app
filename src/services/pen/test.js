var data = [];


var arr = [
  [0x00, 0x00, 0x00, 0x05, 0x01, 0x01, 0x03, 0x04, 0x26, 0x01, 0x0b, 0x01, 0x23, 0x01, 0x04, 0x01, 0x09, 0x01, 0x09, 0x01],
  [0x00, 0x01, 0x01, 0x03, 0x01, 0x0e, 0x01, 0xd7, 0x06, 0x01, 0xe9, 0x01, 0x01, 0xcd, 0x15, 0x01, 0x01, 0x01, 0x01, 0x01],
  [0x00, 0x02, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x03, 0x01, 0x01, 0x01, 0x01],
  [0x00, 0x03, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0xd1, 0x01, 0x01, 0xc4, 0x02, 0x01, 0xb0, 0x03, 0x01, 0x01],
  [0x00, 0x04, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01],
  [0x00, 0x05, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01],
  [0x00, 0x06, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x95, 0x01, 0x01, 0xc7, 0x01],
  [0x00, 0x07, 0x01, 0xc7, 0x01, 0x01, 0xc7, 0x01, 0x01, 0xc7, 0x01, 0x02, 0xc6, 0x01, 0x01, 0x01, 0x01, 0x02, 0x01, 0x03],
  [0x00, 0x08, 0x01, 0x04, 0x01, 0x05, 0x01, 0x06, 0x01, 0x07, 0x01, 0x07, 0x01, 0x9c, 0x01, 0x01, 0xab, 0x02, 0x01, 0xab],
  [0x00, 0x09, 0x02, 0x01, 0xc7, 0x09, 0x01, 0x98, 0x20, 0x01, 0xc6, 0x09, 0x01, 0xff, 0x01, 0x01, 0xff, 0x01, 0x01, 0xff],
  [0x00, 0x0a, 0x01, 0x01, 0x90, 0x0b, 0x01, 0xed, 0x01, 0x01, 0xe8, 0x07, 0x01, 0x01, 0x02, 0xf4, 0x7c, 0x01, 0xa3, 0x06],
  [0x00, 0x0b, 0x01, 0xd3, 0x39, 0x01, 0xf5, 0x4e, 0x01, 0x9f, 0x1d, 0x02, 0x90, 0x52, 0x01, 0x80, 0x02, 0x01, 0xce, 0xee],
  [0x80, 0x0c, 0x01, 0x01, 0xc4, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
  // [0x80, 0x0c, 0x01, 0x01, 0xc4, 0x20]
];

for (var i = 0; i < arr.length; i++) {
  data[i] = new Uint8Array(arr[i]);
  console.log(data[i].byteLength);
}

console.log(data);
console.log(data.length);


function intToVarints128(value) {
  if (value === 0) {
    return [0];
  }
  var varints128 = [];

  var iterValue = value;
  var i = 0;
  while (iterValue !== 0) {
    if (i > 0) {
      varints128[i - 1] = varints128[i - 1] | 0x80;
    }

    varints128.push(iterValue & 0x7f);
    iterValue >>= 7;
    ++i;
  }

  return varints128;
}

var input = [0, 5, 1, 1, 3, 4, 38, 1, 11, 1, 35, 1, 4, 1, 9, 1, 9, 1, 3, 1, 14, 1, 855, 1, 233, 1, 2765, 1, 1, 1, 1, 1,
  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 209, 1, 324, 1, 432, 1, 1, 1, 1, 1, 1,
  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
  1, 1, 1, 1, 1, 1, 149, 1, 199, 1, 199, 1, 199, 1, 199, 2, 198, 1, 1, 1, 2, 1, 3, 1, 4, 1, 5, 1, 6, 1, 7, 1, 7, 1, 156,
  1, 299, 1, 299, 1, 1223, 1, 4120, 1, 1222, 1, 255, 1, 255, 1, 255, 1, 1424, 1, 237, 1, 1000, 1, 1, 2, 15988, 1, 803,
  1, 7379, 1, 10101, 1, 3743, 2, 10512, 1, 256, 1, 30542, 1, 4164];

var out = [];

var mt127 = 0;

for (var i = 0; i < input.length; i++) {
  out = out.concat(intToVarints128(input[i]));
  if (input[i] > 127) {
    mt127++
  }
}

console.log(input.length);
console.log(mt127);

for (var i = 0; i < out.length; i += 18) {
  var s = "0, 0, ";
  for (var j = 0; j < 18; j++) {
    s += out[i+j] + ", "
  }

  console.log(s);
}

console.log(intToVarints128(300).map(function (n) {
  console.log();
  return new Number(n).toString(2);
}))
